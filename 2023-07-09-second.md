# 구조체


```python
%%writefile input.txt
4
kim  23 170.6
lee  22 155.6
kang 21 158.2
joo  20 166.3
```

    Writing input.txt



```python
%%writefile test.cpp
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define MAX_COUNT 100

// structure
class People
{
public:
    char name[20];
    int age;
    float height;
};

void addFriend(People p[], int idx, char name[], int age, float height)
{
    if (idx >= MAX_COUNT) {
        printf("Error: out of size\n");
        return;
    }
        
    strcpy(p[idx].name, name);
    p[idx].age = age;
    p[idx].height = height;
}

void printFriend(People p[], int idx)
{
    if (idx >= MAX_COUNT) {
        printf("Error: out of size\n");
        return;
    }
    printf("%-4s  %-3d %7.2f\n", p[idx].name, p[idx].age, p[idx].height);
}

int main()
{
    FILE *fp;
    fp = fopen("input.txt", "r");
    if (fp == NULL) exit(1);
 
    int i;
    int size;
    fscanf (fp, "%d", &size);
    printf("data size=%d\n", size);
    
    People *data = new People[size];
    char name[20];
    int age;
    float height;
    for (i = 0; i < size; ++i) {
        fscanf (fp, "%s %d %f", name, &age, &height);
        addFriend(data, i, name, age, height);
    }
    
    printf("name  age  height\n");
    for (i = 0; i < size; ++i) {
        printFriend(data, i);
    }
    
    delete[] data;
    fclose(fp);
    return 0;
}
```

    Writing test.cpp



```python
!g++ test.cpp; ./a.out
```

    data size=4
    name  age  height
    kim   23   170.60
    lee   22   155.60
    kang  21   158.20
    joo   20   166.30


# 클래스


```python
%%writefile test.cpp
#include <stdio.h>

class Person
{
private:
    int code[3];
    int age[3];
    float height[3];
    int idx;

public:
    Person()
    {
        this->idx = -1;
    }
 
    void addFriend(int code, int age, float height)
    {
        if (this->idx == 2) {
            printf("add friend (code: %d) error: out of size\n\n", code);
            return;
        }
        this->idx++;
        this->code[this->idx] = code;
        this->age[this->idx] = age;
        this->height[this->idx] = height;
        printf("add friend (code: %d) success.\n", code);
    }
 
    void printFriend()
    {
        printf("name  age  height\n");
        for (int i = 0; i <= this->idx; ++i) {
            printf("%-4d  %-3d %7.2f\n", this->code[i], this->age[i], this->height[i]);
        }
    }
};

int main()
{
    Person person = Person();
    person.addFriend(111, 21, 150);
    person.addFriend(222, 22, 160);
    person.addFriend(333, 23, 170);
    person.addFriend(444, 23, 170);
    person.printFriend();
    
    return 0;
}
```

    Overwriting test.cpp



```python
!g++ test.cpp; ./a.out
```

    add friend (code: 111) success.
    add friend (code: 222) success.
    add friend (code: 333) success.
    add friend (code: 444) error: out of size
    
    name  age  height
    111   21   150.00
    222   22   160.00
    333   23   170.00



```python

```
